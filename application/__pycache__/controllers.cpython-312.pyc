Ã‹     ËœÃ™BgÃ‰t  Ã£                   Ã³Ã–  â€” d dl mZmZmZmZmZmZmZmZ d dl mZ	 ddl
Â­ d dl
Z
d dlmZ d dl
mZ d dlZ ej"                  dÂ«        e	j$                  dÂ«      d	â€ Â«       Z e	j$                  d
d
dgÂ¬
Â«      dâ€ Â«       Z e	j$                  dd
dgÂ¬
Â«      dâ€ Â«       Z e	j$                  dd
dgÂ¬
Â«      dâ€ Â«       Z e	j$                  dd
dgÂ¬
Â«      dâ€ Â«       Z e	j$                  dd
dgÂ¬
Â«      dâ€ Â«       Z e	j$                  ddd
gÂ¬
Â«      dâ€ Â«       Z e	j$                  ddd
gÂ¬
Â«      dâ€ Â«       Z e	j$                  dd
dgÂ¬
Â«      dâ€ Â«       Z e	j$                  dd
dgÂ¬
Â«      dâ€ Â«       Z e	j$                  dd
dgÂ¬
Â«      d â€ Â«       Z e	j$                  d!d
dgÂ¬
Â«      d"â€ Â«       Z e	j$                  d#Â«      d$â€ Â«       Z e	j$                  d%Â«      d&â€ Â«       Z  e	j$                  d'd
dgÂ¬
Â«      d(â€ Â«       Z! e	j$                  d)d
dgÂ¬
Â«      d*â€ Â«       Z" e	j$                  d+d
dgÂ¬
Â«      d,â€ Â«       Z# e	j$                  d-d
dgÂ¬
Â«      d.â€ Â«       Z$ e	j$                  d/d
dgÂ¬
Â«      d0â€ Â«       Z% e	j$                  d1d
dgÂ¬
Â«      d2â€ Â«       Z& e	j$                  d3dd
gÂ¬
Â«      d4â€ Â«       Z' e	j$                  d5dd
gÂ¬
Â«      d6â€ Â«       Z( e	j$                  d7dd
gÂ¬
Â«      d8â€ Â«       Z) e	j$                  d9Â«      d:â€ Â«       Z* e	j$                  d;dd
gÂ¬
Â«      d<â€ Â«       Z+ e	j$                  d=dd
gÂ¬
Â«      d>â€ Â«       Z, e	j$                  d?dd
gÂ¬
Â«      d@â€ Â«       Z- e	j$                  dAdd
gÂ¬
Â«      dBâ€ Â«       Z. e	j$                  dCdd
gÂ¬
Â«      dDâ€ Â«       Z/ e	j$                  dEdgÂ¬
Â«      dFâ€ Â«       Z0 e	j$                  dGdgÂ¬
Â«      dHâ€ Â«       Z1 e	j$                  dIdgÂ¬
Â«      dJâ€ Â«       Z2 e	j$                  dKdgÂ¬
Â«      dLâ€ Â«       Z3 e	j$                  dMd
dgÂ¬
Â«      dNâ€ Â«       Z4y)OÃ©    )ÃšFlaskÃšrender_templateÃšredirectÃšrequestr   Ãšurl_forÃšflashÃš	send_file)Ãš
current_appÃ©   )Ãš*N)ÃšdatetimeÃšAggÃš/c                  Ã³   â€” t        dÂ«      S )Nz
index.html)r   Â© Ã³    Ãº>h:\IITM-BS\MAD 1 final\Project\code\application\controllers.pyÃšindexr   
   s
   â‚¬ Ã¤
Ëœ<Ã“
(Ã(r   Ãº/loginÃšGETÃšPOST)Ãšmethodsc                  Ã³Ã®  â€” t         j                  dk(  ÂrÃ—t         j                  j                  dÂ«      } t         j                  j                  dÂ«      }t        j
                  j
                  | Â¬Â«      j                  Â«       }t        j
                  j
                  | Â¬Â«      j                  Â«       }|rb|j                  |k(  r=|j                  dk7  rt        dÂ«       t        dÂ«      S t        d|j                  â€º ÂÂ«      S t        d	Â«       t        dÂ«      S |rÂ¬|j                  d
k(  rt        dÂ«       t        dÂ«      S |j                  |k(  rb|j                  d
k(  rt        dÂ«       t        dÂ«      S |j                  d
k(  rt        dÂ«       t        dÂ«      S t        d|j                  â€º ÂÂ«      S t        d	Â«       t        dÂ«      S | dk(  r|dk(  r
t        dÂ«      S t        dÂ«       t        dÂ«      S t        dÂ«      S )Nr   Ãš	user_nameÃšpwdÂ©ÃšusernameÃšActivez*Your account has been blocked by the Adminr   Ãº/customer_dashboard/zincorrect passwordÃšBlockedÃšPendingz=Your application is pending. Please wait for Admin approval !ÃšRejectedz&Your application is rejected by Admin.Ãº/professional_dashboard/ÃšAdminÃš123Ãº/admin_dashboardzInvalid username or passwordz
login.html)r   ÃšmethodÃšformÃšgetÃšCustomerÃšqueryÃš	filter_byÃšfirstÃš
ProfessionalsÃšpasswordÃšapplication_statusr   r   Ãšidr   )Ãšu_namer   Ãš
this_customerÃšthis_professionals       r   Ãšloginr5      sÂ¹  â‚¬ Ã¤â€¡~Â~ËœÃ“Ãœâ€”â€˜Ã—!Ã‘!Â +Ã“.Ë†ÃœÂlâ€°lÃ—Ã‘ËœuÃ“%Ë†Ãœ Å¸â„¢Ã—0Ã‘0Â¸FÃ0Ã“CÃ—IÃ‘IÃ“KË†
Ãœ)Ã—/Ã‘/Ã—9Ã‘9Ã€VÃ9Ã“LÃ—RÃ‘RÃ“TÃÃ¡
Ã˜Ã—%Ã‘%Â¨Ã’,Ã˜ Ã—3Ã‘3Â°xÃ’?ÃœÃFÃ”GÃœ#Â HÃ“-Ã-ÃœÃ"6Â°}Ã—7GÃ‘7GÃ6HÃ IÃ“JÃJÃ¤Ã*Ã”+ÃœÂ Ã“)Ã)Ã¡
Ã˜ Ã—3Ã‘3Â°yÃ’@ÃœÃBÃ”CÃœÂ Ã“)Ã)Ã˜"Ã—+Ã‘+Â¨sÃ’2Ã˜$Ã—7Ã‘7Â¸9Ã’DÃœÃYÃ”ZÃœ#Â HÃ“-Ã-Ã˜$Ã—7Ã‘7Â¸:Ã’EÃœÃBÃ”CÃœ#Â HÃ“-Ã-ÃœÃ":Ã;LÃ—;OÃ‘;OÃ:PÃ QÃ“RÃRÃ¤Ã*Ã”+ÃœÂ Ã“)Ã)Ã 
ÂwÃ’
Â 3Â¨%Â¢<ÃœÃ.Ã“/Ã/Ã¤Ã0Ã”1ÃœËœHÃ“%Ã%Ã¤
Ëœ<Ã“
(Ã(r   z/register_customerc                  Ã³t  â€” t         j                  dk(  Ârt         j                  d   } t         j                  d   }t         j                  d   }t         j                  d   }t         j                  d   }t         j                  d   }t        j                  j
                  | Â¬Â«      j
                  Â«       rt        d	Â«       t        d
Â«      S t        | |||||Â¬
Â«      }t        j                  j                  |Â«       t        j                  j                  Â«        t        dÂ«       t        d
Â«      S t        d
Â«      S )Nr   r   r/   ÃšfullnameÃšaddressÃšpincodeÃšphone_nor   z&Username already exists! Please login.r   )r   r/   r:   r7   r8   r9   z!Signup successful! please log in!zregister_customer.html)r   r'   r(   r*   r+   r,   r-   r   r   ÃšdbÃšsessionÃšaddÃšcommitr   )r   r   Ãš	full_namer8   r9   r:   Ãšnew_customers          r   Ãšregister_customerrA   >   sÃ´   â‚¬ Ã¤â€¡~Â~ËœÃ“Ãœâ€”<â€˜<Â 
Ã‘+Ë†ÃœÂlâ€°lËœ:Ã‘&Ë†Ãœâ€”Lâ€˜LÂ Ã‘,Ë†	Ãœâ€”,â€˜,ËœyÃ‘)Ë†Ãœâ€”,â€˜,ËœyÃ‘)Ë†Ãœâ€”<â€˜<Â 
Ã‘+Ë†Ã¤
Â>â€°>Ã—
#Ã‘
#Â¨xÃ
#Ã“
8Ã—
>Ã‘
>Ã”
@ÃœÃ:Ã”;ÃœËœHÃ“%Ã%Ã¤Ã˜Ã˜Ã˜Ã˜Ã˜Ã˜Ã´

Ë†Ã´ 	
Â
â€°
Ââ€°Â|Ã”$Ãœ
Â
â€°
Ã—Ã‘Ã”Ãœ
Ã1Ã”2ÃœËœÃ“!Ã!Ã´ Ã3Ã“
4Ã4r   z/customer_dashboard/<int:c_id>c                 Ã³Â²   â€” t         j                  j                  | Â«      }t        j                  j	                  Â«       }|j
                  }t
        d|||Â¬Â«      S )NzCustomer_dashboards_home.html)ÃšuserÃš
R_ServicesÃšService)r*   r+   r)   ÃšServicesÃšallÃšservice_requestsr   )Ãšc_idr3   rE   rD   s       r   ÃšCustomer_loginrJ   ^   sG   â‚¬ Ã¤â€”Nâ€˜NÃ—&Ã‘&Â tÃ“,â‚¬MÃœÂnâ€°nÃ— Ã‘ Ã“"â‚¬GÃ˜Ã—/Ã‘/â‚¬JÃ¤
Ã:Ã€=Ã_iÃt{Ã”
}Ã}r   z/edit_cust_info/<int:C_id>c                 Ã³Ã„  â€” t         j                  dk(  rÃt         j                  d   }t         j                  d   }t         j                  d   }t         j                  d   }t         j                  d   }t        j                  j
                  | Â«      }||_        ||_        ||_        ||_	        ||_
        t        j                  j                  Â«        t        d| â€º ÂÂ«      S y )Nr   r   r7   r8   r9   r:   r   )r   r'   r(   r*   r+   r)   r   r:   r7   r8   r9   r;   r<   r>   r   )ÃšC_idr   r?   r8   r9   r:   r3   s          r   ÃšEdit_User_InforM   g   sÂ¸   â‚¬ Ã¤â€¡~Â~ËœÃ’Ãœâ€”<â€˜<Â 
Ã‘+Ë†Ãœâ€”Lâ€˜LÂ Ã‘,Ë†	Ãœâ€”,â€˜,ËœyÃ‘)Ë†Ãœâ€”,â€˜,ËœyÃ‘)Ë†Ãœâ€”<â€˜<Â 
Ã‘+Ë†Ã¤ Å¸â„¢Ã—*Ã‘*Â¨4Ã“0Ë†
Ã !)Ë†
Ã”Ã˜!)Ë†
Ã”Ã˜!*Ë†
Ã”Ã˜ 'Ë†
Ã”Ã˜ 'Ë†
Ã”Ã¤
Â
â€°
Ã—Ã‘Ã”Ã¤Ã.Â¨tÂ¨fÃ5Ã“6Ã6Ã°#  r   z"/looking_for/<int:s_id>/<int:c_id>c                 Ã³Å“  â€” t         j                  dk(  rÂ¹t        j                  j	                  | dÂ¬Â«      j
                  t
        t        j                  Â«      Â«      j                  Â«       }t        j                  j                  |Â«      }t        j                  j                  | Â«      }|j                  }t        d||||j                  Â¬Â«      S y )Nr   ÃšApprovedÂ©Ãš
service_idr0   zCustomer_dashboards_lf.html)r.   rD   rC   Ãšser_name)r   r'   r.   r+   r,   Ãšorder_byÃšdescÃšratingrG   r*   r)   rF   rH   r   Ãšservice_name)Ãšs_idrI   Ãšall_professionalsrC   Ãšthis_servicerD   s         r   Ãš
looking_forrZ   }   sÃ”   â‚¬ Ã¤â€¡~Â~ËœÃ’Ãœ)Ã—/Ã‘/Ã—9Ã‘9Ã€TÃ^hÃ9Ã“iÃ—rÃ‘rÃ”swÃ´  yFÃ·  yMÃ±  yMÃ³  tNÃ³  OÃ·  SÃ±  SÃ³  UÃÃœÂ~â€°~Ã—!Ã‘!Â $Ã“'Ë†Ãœâ€”~â€˜~Ã—)Ã‘)Â¨$Ã“/Ë†Ã˜Ã—*Ã‘*Ë†
Ã¤Ã<ÃN_ÃoyÃ°  CGÃ°  T`Ã·  TmÃ±  TmÃ´  nÃ°  	nÃ°
 r   z1/request_service/<int:p_id>/<int:c_id>/<int:s_id>c                 Ã³P  â€” t         j                  j                  |Â«      }t        | ||t	        j
                  Â«       j
                  dÂ«      Â¬Â«      }t        j                  j                  |Â«       t        j                  j                  Â«        t        d|j                  â€º d|â€º ÂÂ«      S )NÃº	%B %d, %Y)Ãšprofessional_idrQ   Ãš
customer_idÃšdate_of_requestz
/looking_for/r   )
rF   r+   r)   Ãš
Service_Reqr
   ÃšnowÃšstrftimer;   r<   r=   r>   r   r1   )Ãšp_idrI   rW   rY   Ãš
new_requests        r   Ãšrequest_servicere   Ë†   s|   â‚¬ Ã¤â€”>â€˜>Ã—%Ã‘%Â dÃ“+â‚¬LÃœÃ˜Ã˜Ã˜Ãœ"Å¸,â„¢,â€º.Ã—1Ã‘1Â°+Ã“>Ã´	â‚¬KÃ´ â€¡JÂJâ€¡NÂNÂ;Ã”Ãœâ€¡JÂJÃ—Ã‘Ã”Ã¤
ÂmÂ LÂ§OÂ¡OÃ#4Â°AÂ°dÂ°VÃ<Ã“
=Ã=r   z-/service_remark/<int:s_request_id>/<int:c_id>c                 Ã³â€   â€” t         j                  dk(  rÂ®t         j                  d   }t         j                  d   }t        j                  j
                  | Â«      }d|_        ||_        ||_        t        j                  Â«       j                  dÂ«      |_        t        j                  j                  Â«        t!        d|â€º ÂÂ«      S y )Nr   rU   ÃšremarksÃš	Completedr\   r   )r   r'   r(   r`   r+   r)   Ãšservice_statusÃšservice_ratingÃšcustomer_remarksr
   ra   rb   Ãšdate_of_completionr;   r<   r>   r   )Ãšs_request_idrI   rU   rg   Ãšthis_requests        r   Ãšclose_cust_requestro   â€”   sâ„¢   â‚¬ Ã¤â€¡~Â~ËœÃ’Ãœâ€”â€˜ËœhÃ‘'Ë†Ãœâ€”,â€˜,ËœyÃ‘)Ë†Ã¤"Ã—(Ã‘(Ã—,Ã‘,Â¨\Ã“:Ë†Ã˜&1Ë†Ã”#Ã˜&,Ë†Ã”#Ã˜(/Ë†Ã”%Ãœ*2Â¯,Â©,Â«.Ã—*AÃ‘*AÃ€+Ã“*NË†Ã”'Ãœ
Â
â€°
Ã—Ã‘Ã”Ã¤Ã.Â¨tÂ¨fÃ5Ã“6Ã6Ã°  r   z$/customer_search_services/<int:c_id>c                 Ã³â€  â€” t         j                  dk(  Âr(t         j                  d   }|dk(  rÃ©t         j                  d   j                  Â«       }t        j
                  j
                  t        j                  j                  |â€º dÂÂ«      Â«      j                  Â«       }|ÂrÅ¸t        j
                  j                  |j                  dÂ¬Â«      j                  t        t        j                  Â«      Â«      j!                  Â«       }t#        d||j                  | Â¬	Â«      S |d
k(  rwt         j                  d   }t        j
                  j                  |dÂ¬
Â«      j                  t        t        j                  Â«      Â«      j!                  Â«       }t#        d|d| Â¬	Â«      S |d
k(  rÂ¦t         j                  d   }t        j
                  j
                  t        j$                  j                  d|â€º dÂÂ«      Â«      j                  dÂ¬Â«      j                  t        t        j                  Â«      Â«      j!                  Â«       }t#        d|d| Â¬	Â«      S t#        d| Â¬Â«      S )Nr   Ãº	search-byÃºservice nameÃš
search_termÃš%rO   rP   zCustomer_dashboards_search.html)Ãš
professionalsÃšbannerrI   r9   )r9   r0   ÃšAvailaber8   )r0   )rI   )r   r'   r(   Ãš
capitalizerF   r+   ÃšfilterrV   Ãšliker-   r.   r,   r1   rS   rT   rU   rG   r   r8   )rI   Ãš	search_byrs   rY   rX   r9   r8   s          r   Ãšcustomer_search_servicesr|   Â§   ss  â‚¬ Ã¤â€¡~Â~ËœÃ“Ãœâ€”Lâ€˜LÂ Ã‘-Ë†	Ã˜
ËœÃ’
&Ãœ!Å¸,â„¢,Â }Ã‘5Ã—@Ã‘@Ã“BË†KÃœ#Å¸>â„¢>Ã—0Ã‘0Â´Ã—1FÃ‘1FÃ—1KÃ‘1KÃˆ{ÃˆmÃ[\ÃL]Ã“1^Ã“_Ã—eÃ‘eÃ“gË†LÃ¢Ãœ$1Ã—$7Ã‘$7Ã—$AÃ‘$AÃˆ|ÃÃ‰Ãt~Ã$AÃ“$Ã·  %IÃ±  %IÃ´  JNÃ´  O\Ã·  OcÃ±  OcÃ³  JdÃ³  %eÃ·  %iÃ±  %iÃ³  %kÃ!Ãœ&Ã'HÃZkÃ°  wCÃ·  wPÃ±  wPÃ°  Y]Ã´  ^Ã°  ^Ã 
Ëœ)Ã’
#Ã¤â€”lâ€˜lÂ =Ã‘1Ë†GÃœ -Ã— 3Ã‘ 3Ã— =Ã‘ =ÃˆÃeoÃ =Ã“ pÃ— yÃ‘ yÃ”z~Ã´  @MÃ·  @TÃ±  @TÃ³  {UÃ³  !VÃ·  !ZÃ±  !ZÃ³  !\ÃÃœ"Ã#DÃVgÃr|Ã°  FJÃ´  KÃ°  
KÃ 
Ëœ)Ã’
#Ãœâ€”lâ€˜lÂ =Ã‘1Ë†GÃœ -Ã— 3Ã‘ 3Ã— :Ã‘ :Â¼=Ã—;PÃ‘;PÃ—;UÃ‘;UÃXYÃZaÃYbÃbcÃVdÃ“;eÃ“ fÃ— pÃ‘ pÃ°  FPÃ pÃ³  !QÃ·  !ZÃ±  !ZÃ´  [_Ã´  `mÃ·  `tÃ±  `tÃ³  [uÃ³  !vÃ·  !zÃ±  !zÃ³  !|ÃÃœ"Ã#DÃVgÃr|Ã°  FJÃ´  KÃ°  
KÃ´ Ã<Ã€TÃ”
JÃJr   z/cust_summary_dash/<int:c_id>c                 Ã³Ã  â€” 	 t         j                  j                  | Â«      }t        j                  j	                  | dÂ¬Â«      j
                  Â«       }t        j                  j
                  t        j                  | k(  t        j                  j                  ddgÂ«      Â«      j
                  Â«       }t        j                  j	                  | dÂ¬Â«      j
                  Â«       }t        j                  j	                  | dÂ¬Â«      j
                  Â«       }g dÂ¢}||||g}t        j                  dÂ¬	Â«       t        j                  ||d
d
g dÂ¢Â¬
Â«       t        j                  dÂ«       t        j                  |ddÂ¬Â«       t        j                  dÂ«       t        j                   Â«        t        j                  dÂ¬	Â«       t        j"                  ||g dÂ¢Â¬Â«       t        j$                  dÂ«       t        j&                  dÂ«       t        j                  dÂ«       t        j                  dÂ«       t        j                   Â«        t)        d|Â¬Â«      S # t*        $ r}t)        d|Â¬Â«      cY d }~S d }~ww xY w)NÃš	Requested)r^   ri   ÃšClosedrh   r"   ÃšAcceptedÂ©r~   ÃšOngoingrh   r"   Â©Ã©   Ã©   Â©ÃšfigsizeÃº%1.1f%%Ã©Z   Â©ÃšskyblueÃš
lightgreenÃšOrangeÃšsalmonÂ©ÃšlabelsÃšautopctÃš
startangleÃšcolorsz#Service Requests Status - Pie ChartÃº
lower rightÃšStatusÂ©ÃšlocÃštitleÃºstatic/pie_chart.pngÂ©ÃšcolorÃºRequest StatusÃºNumber of RequestszService Requests StatusÃºstatic/bar_chart.pngzCustomer_dashboard_summary.html)rC   )rC   Ãšerror)r*   r+   r)   r`   r,   Ãšcountry   r^   ri   Ãšin_ÃšpltÃšfigureÃšpierËœ   ÃšlegendÃšsavefigÃšcloseÃšbarÃšxlabelÃšylabelr   Ãš	Exception)	rI   rC   Ãšrequested_countÃšcompleted_countÃšrejected_countÃš
ongoing_countrÂ   ÃšcountsÃšes	            r   Ãšcustomer_summary_dashrÂ²   Ã‚   sÃ‘  â‚¬ Ã°!YÃœÂ~â€°~Ã—!Ã‘!Â $Ã“'Ë†Ãœ%Ã—+Ã‘+Ã—5Ã‘5Ã€$ÃWbÃ5Ã“cÃ—iÃ‘iÃ“kË†Ãœ%Ã—+Ã‘+Ã—2Ã‘2Â´;Ã—3JÃ‘3JÃˆdÃ‘3RÃœ4?Ã—4NÃ‘4NÃ—4RÃ‘4RÃT\Ã^iÃSjÃ“4kÃ³mÃŸmrÃ‘mrÃ“mtÃ° 	Ã¤$Ã—*Ã‘*Ã—4Ã‘4Ã€ÃV`Ã4Ã“aÃ—gÃ‘gÃ“iË†Ãœ#Ã—)Ã‘)Ã—3Ã‘3Ã€ÃU_Ã3Ã“`Ã—fÃ‘fÃ“hË†
Ã² BË†Ã˜!Â -Â°Ã€.ÃQË†Ã´ 	Â
â€°
Ëœ6Ã•"Ãœ
Ââ€°ÂËœvÂ¨yÃ€RÃ’Q}Ã•~Ãœ
Â	â€°	Ã7Ã”8Ãœ
Â
â€°
Â6Ëœ}Â°HÃ•=Ãœ
Â
â€°
Ã*Ã”+Ãœ
Â	â€°	Å’
Ã´ 	Â
â€°
Ëœ6Ã•"Ãœ
Ââ€°ÂËœÃ’&RÃ•SÃœ
Â
â€°
Ã#Ã”$Ãœ
Â
â€°
Ã'Ã”(Ãœ
Â	â€°	Ã+Ã”,Ãœ
Â
â€°
Ã*Ã”+Ãœ
Â	â€°	Å’
Ã´ Ã@ÃˆÃ”MÃMÃ¸Ã¤
Ã² YÃœÃ@ÃˆÃVWÃ”XÃ•XÃ»Ã°YÃºs   â€šI I Ã‰	I$Ã‰
IÃ‰I$Ã‰I$Ãº/register_professionalc                  Ã³2  â€” t         j                  dk(  ÂrÃ™t         j                  d   } t         j                  d   }t         j                  d   }t         j                  d   }t         j                  d   }t         j                  d   }t         j                  d   }t         j                  d	   }t         j                  d
   }t        j
                  j
                  |Â¬
Â«      j                  Â«       rt        dÂ«       t        d
Â«      S t        j
                  j                  |Â«      }	|rÂ³|j                  j                  dÂ«      rËœ|j                  Â«       }
t	        | ||||||
|	j                  |	j                   |	j"                  ||Â¬Â«      }
t$        j&                  j)                  |
Â«       t        dÂ«       t$        j&                  j+                  Â«        t        d
Â«      S t        dÂ«       t        dÂ«      S t        j
                  j-                  Â«       }	t/        d|	Â¬Â«      S )Nr   r?   Ãšemailr/   rQ   Ãš
experiencer8   r9   Ãšdocumentr:   r   z'Username already exists ! Please login.r   z.pdf)r7   r   r/   r:   rQ   rÂ¶   Ãšpdf_docÃšpricingÃštime_reqÃšservice_descr8   r9   zSignup successful!zfile must be a PDFrÂ³   zregister_professional.html)Ãšservice)r   r'   r(   Ãšfilesr.   r+   r,   r-   r   r   rF   r)   ÃšfilenameÃšendswithÃšreadÃš
service_bprÂº   rÂ»   r;   r<   r=   r>   rG   r   )r?   r   r   rQ   rÂ¶   r8   r9   Ãšfiler:   rÂ¼   Ãš
document_dataÃšnew_users               r   Ãšregister_professionalrÃ…   Ã¬   sÅ¾  â‚¬ Ã¤â€¡~Â~ËœÃ“Ãœâ€”Lâ€˜LÂ Ã‘-Ë†	Ãœâ€”<â€˜<Â Ã‘(Ë†ÃœÂlâ€°lËœ:Ã‘&Ë†Ãœâ€”\â€˜\Â ,Ã‘/Ë†
Ãœâ€”\â€˜\Â ,Ã‘/Ë†
Ãœâ€”,â€˜,ËœyÃ‘)Ë†Ãœâ€”,â€˜,ËœyÃ‘)Ë†ÃœÂ}â€°}ËœZÃ‘(Ë†Ãœâ€”<â€˜<Â 
Ã‘+Ë†Ã¤
Ã—
Ã‘
Ã—
(Ã‘
(Â°HÃ
(Ã“
=Ã—
CÃ‘
CÃ”
EÃœÃ;Ã”<ÃœËœHÃ“%Ã%Ã¤â€”.â€˜.Ã—$Ã‘$Â ZÃ“0Ë†Ã¡
ÂDâ€”Mâ€˜MÃ—*Ã‘*Â¨6Ã”2Ã˜ Å¸Iâ„¢Iâ€ºKË†MÃœ$Ã˜"Ã˜!Ã˜Ã˜!Ã˜%Ã˜%Ã˜%Ã˜Ã—*Ã‘*Ã˜ Ã—)Ã‘)Ã˜$Ã—1Ã‘1Ã˜Ã˜Ã´
Ë†HÃ´ 
ÂJâ€°JÂNâ€°NËœ8Ã”$ÃœÃ&Ã”'ÃœÂJâ€°JÃ—Ã‘Ã”Ã¤ËœHÃ“%Ã%Ã¤Ã&Ã”'ÃœÃ4Ã“5Ã5ÃœÂnâ€°nÃ— Ã‘ Ã“"â‚¬GÃ¤
Ã7Ã€Ã”
IÃIr   z"/professional_dashboard/<int:p_id>c                 Ã³t  â€” t         j                  j                  | Â«      }t        j                  j	                  | dÂ¬Â«      j
                  Â«       }t        j                  j	                  | Â¬Â«      j
                  t        j                  j                  g dÂ¢Â«      Â«      j
                  Â«       }t        d|||Â¬Â«      S )Nr~   Â©r]   ri   )r]   Â©râ‚¬   r   rh   zprofess_dashboards_home.html)ÃšprofessionalrD   Ãš
c_Services)
r.   r+   r)   r`   r,   rG   ry   ri   rÂ¡   r   )rc   r4   rD   Ãš
a_Servicess       r   Ãšprofessional_loginrÃŒ     sÂ°   â‚¬ Ã¤%Ã—+Ã‘+Ã—/Ã‘/Â°Ã“5ÃÃœÃ—"Ã‘"Ã—,Ã‘,Â¸tÃT_Ã,Ã“`Ã—dÃ‘dÃ“fâ‚¬JÃœÃ—"Ã‘"Ã—,Ã‘,Â¸tÃ,Ã“DÃ—KÃ‘KÃŒKÃ—LfÃ‘LfÃ—LjÃ‘LjÃ²  lNÃ³  MOÃ³  PÃ·  TÃ±  TÃ³  Vâ‚¬JÃ¤
Ã9ÃJ[ÃjtÃ°  DNÃ´  OÃ°  Or   z2/accept_cust_request/<int:s_request_id>/<int:p_id>c                 Ã³Â¦   â€” t         j                  j                  | Â«      }d|_        t        j
                  j
                  Â«        t        d|â€º ÂÂ«      S )Nrâ‚¬   r#   Â©r`   r+   r)   ri   r;   r<   r>   r   )rm   rc   rn   s      r   Ãšaccept_cust_requestrÃ   '  sC   â‚¬ Ã¤Ã—$Ã‘$Ã—(Ã‘(Â¨Ã“6â‚¬LÃ˜",â‚¬LÃ”Ãœâ€¡JÂJÃ—Ã‘Ã”Ã¤
Ã.Â¨tÂ¨fÃ5Ã“
6Ã6r   z,/reject_cust_request/<int:req_id>/<int:p_id>c                 Ã³Â¦   â€” t         j                  j                  | Â«      }d|_        t        j
                  j
                  Â«        t        d|â€º ÂÂ«      S )Nr"   r#   rÃ   )Ãšreq_idrc   rn   s      r   Ãšdelete_cust_requestrÃ’   0  sC   â‚¬ Ã¤Ã—$Ã‘$Ã—(Ã‘(Â¨Ã“0â‚¬LÃ˜",â‚¬LÃ”Ãœâ€¡JÂJÃ—Ã‘Ã”Ã¤
Ã.Â¨tÂ¨fÃ5Ã“
6Ã6r   z!/professional_review/<int:req_id>c                 Ã³Âª  â€” t         j                  dk(  Âr?t        j                  j	                  | Â«      }t        j                  j
                  t        j                  Â«      j                  t        j                  |j                  k(  Â«      j                  Â«       }d}d}|D ]  }|d   â‚¬Å’	||d   z
  }|dz
  }Å’ |dkD  rt        ||z
  dÂ«      nd}t        j                  j	                  |j                  Â«      }||_        t         j                  d   }||_        d|_        t         j"                  j%                  Â«        t'        d|j                  â€º ÂÂ«      S y )Nr   r   r
   Ãšremarkr   r#   Â©r   r'   r`   r+   r)   Ãš
with_entitiesrj   ry   r]   rG   Ãšroundr.   rU   r(   Ãšprofessional_remarkri   r;   r<   r>   r   Â©	rÃ‘   rn   Ãš
all_ratingsÃštotal_ratingrÂ    rU   Ãšaverage_ratingr4   rÃ”   s	            r   Ãšprofessional_reviewrÃ   9  sI  â‚¬ Ã´ â€¡~Â~ËœÃ“Ãœ"Ã—(Ã‘(Ã—,Ã‘,Â¨VÃ“4Ë†Ãœ!Ã—'Ã‘'Ã—5Ã‘5Â´kÃ—6PÃ‘6PÃ“QÃ—XÃ‘XÃ”YdÃ—YtÃ‘YtÃ°  yEÃ·  yUÃ±  yUÃ±  ZUÃ³  VÃ·  ZÃ±  ZÃ³  \Ë†
Ã Ë†Ã˜Ë†Ã£!Ë†FÃ˜Âaâ€°yÃ‘$Ã˜Â Â qÂ¡	Ã‘)ÂÃ˜Ëœâ€˜
â€˜Ã° "Ã° <AÃ€1Âº9Å“Ëœ|Â¨eÃ‘3Â°QÃ”7Ãˆ!Ë†Ã¤)Ã—/Ã‘/Ã—3Ã‘3Â°LÃ—4PÃ‘4PÃ“QÃÃ˜#1ÃÃ” Ãœâ€”â€˜ËœhÃ‘'Ë†Ã˜+1Ë†Ã”(Ã˜&.Ë†Ã”#Ãœ
Â
â€°
Ã—Ã‘Ã”Ã¤Ã2Â°<Ã—3OÃ‘3OÃ2PÃQÃ“RÃRÃ°)  r   z-/professional_review_from_search/<int:req_id>c                 Ã³Âª  â€” t         j                  dk(  Âr?t        j                  j	                  | Â«      }t        j                  j
                  t        j                  Â«      j                  t        j                  |j                  k(  Â«      j                  Â«       }d}d}|D ]  }|d   â‚¬Å’	||d   z
  }|dz
  }Å’ |dkD  rt        ||z
  dÂ«      nd}t        j                  j	                  |j                  Â«      }||_        t         j                  d   }||_        d|_        t         j"                  j%                  Â«        t'        d|j                  â€º ÂÂ«      S y )Nr   r   r
   rÃ”   r   z/professional_search_services/rÃ•   rÃ™   s	            r   Ãšprofessional_review_from_searchrÃŸ   S  sI  â‚¬ Ã´ â€¡~Â~ËœÃ“Ãœ"Ã—(Ã‘(Ã—,Ã‘,Â¨VÃ“4Ë†Ãœ!Ã—'Ã‘'Ã—5Ã‘5Â´kÃ—6PÃ‘6PÃ“QÃ—XÃ‘XÃ”YdÃ—YtÃ‘YtÃ°  yEÃ·  yUÃ±  yUÃ±  ZUÃ³  VÃ·  ZÃ±  ZÃ³  \Ë†
Ã Ë†Ã˜Ë†Ã£!Ë†FÃ˜Âaâ€°yÃ‘$Ã˜Â Â qÂ¡	Ã‘)ÂÃ˜Ëœâ€˜
â€˜Ã° "Ã° <AÃ€1Âº9Å“Ëœ|Â¨eÃ‘3Â°QÃ”7Ãˆ!Ë†Ã¤)Ã—/Ã‘/Ã—3Ã‘3Â°LÃ—4PÃ‘4PÃ“QÃÃ˜#1ÃÃ” Ãœâ€”â€˜ËœhÃ‘'Ë†Ã˜+1Ë†Ã”(Ã˜&.Ë†Ã”#Ãœ
Â
â€°
Ã—Ã‘Ã”Ã¤Ã8Â¸Ã—9UÃ‘9UÃ8VÃWÃ“XÃXÃ°)  r   z(/professional_search_services/<int:p_id>c           	      Ã³4  â€” t         j                  dk(  ÂrÃ¸t         j                  d   }|dk(  r~t         j                  d   }t        j                  j
                  | |Â¬Â«      j
                  t        j                  j                  g dÂ¢Â«      Â«      j                  Â«       }t        d|| Â¬Â«      S |d	k(  rÂ¤t         j                  d   }t        j                  j                  t        Â«      j
                  t        j                  |k(  t        j                  | k(  t        j                  j                  g dÂ¢Â«      Â«      j                  Â«       }t        d|| Â¬Â«      S |d
k(  rÂ´t         j                  d   }t        j                  j                  t        Â«      j
                  t        j                  | k(  t        j                  j                  g dÂ¢Â«      t        j                  j!                  d
|â€º d
ÂÂ«      Â«      j                  Â«       }t        d|| Â¬Â«      S t        d| Â¬Â«      S )
Nr   rq   z
start Daters   )r]   r_   rÃˆ   zProfess_dashboards_search.html)rÃŠ   rc   r9   r8   rt   )rc   )r   r'   r(   r`   r+   r,   ry   ri   rÂ¡   rG   r   Ãšjoinr*   r9   r]   r8   rz   )rc   r{   ÃšdaterÃŠ   r9   r8   s         r   Ãšprofessional_search_servicesrÃ£   m  sÃ£  â‚¬ Ã¤â€¡~Â~ËœÃ“Ãœâ€”Lâ€˜LÂ Ã‘-Ë†	Ã 
ËœÃ’
$Ãœâ€”<â€˜<Â 
Ã‘.Ë†DÃœ$Ã—*Ã‘*Ã—4Ã‘4Ã€tÃ˜GKÃ° 5Ã³ 6Ã§6<Â±fÂ¼[Ã—=WÃ‘=WÃ—=[Ã‘=[Ã’\~Ã“=Ã³  7AÃ·  BEÃ±  BEÃ³  BGÃ° 
Ã´ #Ã#CÃR\ÃeiÃ”jÃjÃ 
Ëœ)Ã’
#Ãœâ€”lâ€˜lÂ =Ã‘1Ë†GÃœ$Ã—*Ã‘*Ã—/Ã‘/Â´Ã“9Ã—@Ã‘@Ãœ@HÃ—@PÃ‘@PÃT[Ã‘@[Ãœ@KÃ—@[Ã‘@[Ã_cÃ‘@cÃœ@KÃ—@ZÃ‘@ZÃ—@^Ã‘@^Ã²  `BÃ³  ACÃ³>Ã· ?BÂ¹cÂ»eÃ°	 
Ã´
 #Ã#CÃR\ÃeiÃ”jÃjÃ 
Ëœ)Ã’
#Ãœâ€”lâ€˜lÂ =Ã‘1Ë†GÃœ$Ã—*Ã‘*Ã—/Ã‘/Â´Ã“9Ã—@Ã‘@Ãœ@KÃ—@[Ã‘@[Ã_cÃ‘@cÃœ@KÃ—@ZÃ‘@ZÃ—@^Ã‘@^Ã²  `CÃ³  ADÃœ@HÃ—@PÃ‘@PÃ—@UÃ‘@UÃXYÃZaÃYbÃbcÃVdÃ“@eÃ³>Ã· ?BÂ¹cÂ»eÃ°	 
Ã´
 #Ã#CÃR\ÃeiÃ”jÃjÃ¤
Ã;Ã€DÃ”
IÃIr   z/edit_pro_info/<int:p_id>c                 Ã³B  â€” t         j                  dk(  Âr
t        j                  j	                  | Â«      }t         j
                  d   |_        t         j
                  d   |_        t         j
                  d   |_        t         j
                  d   |_	        t         j
                  d   |_
        t         j
                  d   |_
        t         j
                  d   |_        t         j
                  d	   |_
        t        j                  j!                  Â«        t#        d
| â€º ÂÂ«      S y )
Nr   r7   r:   r   r8   r9   rÂ¹   rÂº   rÂ»   r#   )r   r'   r.   r+   r)   r(   r7   r:   r   r8   r9   rÂ¹   rÂº   rÂ»   r;   r<   r>   r   Â©rc   r4   s     r   Ãš
edit_pro_inforÃ¦   Â  sÃ   â‚¬ Ã¤â€¡~Â~ËœÃ“Ãœ)Ã—/Ã‘/Ã—3Ã‘3Â°DÃ“9ÃÃœ%,Â§\Â¡\Â°*Ã‘%=ÃÃ”"Ãœ%,Â§\Â¡\Â°*Ã‘%=ÃÃ”"Ãœ%,Â§\Â¡\Â°*Ã‘%=ÃÃ”"Ãœ$+Â§LÂ¡LÂ°Ã‘$;ÃÃ”!Ãœ$+Â§LÂ¡LÂ°Ã‘$;ÃÃ”!Ãœ$+Â§LÂ¡LÂ°Ã‘$;ÃÃ”!Ãœ%,Â§\Â¡\Â°*Ã‘%=ÃÃ”"Ãœ)0Â¯Â©Â°nÃ‘)EÃÃ”&Ã¤
Â
â€°
Ã—Ã‘Ã”ÃœÃ2Â°4Â°&Ã9Ã“:Ã:Ã°  r   z/profes_summary_dash/<int:p_id>c                 Ã³Ã¸  â€” 	 t         j                  j                  | Â«      }t        j                  j	                  | dÂ¬Â«      j
                  Â«       }t        j                  j
                  t        j                  | k(  t        j                  j                  ddgÂ«      Â«      j
                  Â«       }t        j                  j	                  | dÂ¬Â«      j
                  Â«       }t        j                  j	                  | dÂ¬Â«      j
                  Â«       }g dÂ¢}||||g}|j                  }|d|z
  g}	d	d
g}
t        j                  d
Â¬Â«      \  }
}|j                  |	|
d
dddgÂ¬Â«       |j                  dÂ«       t        j                  d|â€º dÂÂ«       t        j                   dÂ«       t        j"                  Â«        t        j$                  d
Â¬Â«       t        j&                  ||g dÂ¢Â¬Â«       t        j(                  dÂ«       t        j*                  dÂ«       t        j                  dÂ«       t        j                   dÂ«       t        j"                  Â«        t-        d|| Â¬Â«      S # t.        $ r}
t-        d| |
Â¬Â«      cY d }
~
S d }
~
ww xY w)Nr~   rÃ‡   r   rh   râ‚¬   r"   rÂ   Ã©   zCustomer satisfacionÃš	RemainingrÆ’   râ€    rË†   râ€°   ÃšgoldÃš	lightgrayrÂ   ÃšequalzYour current Rating: z starrâ„¢   )râ€¹   rÅ’   rÅ½   rÅ¡   rÅ“   rÂ   zRequested service StatusrÅ¾   z%Professsionals_dashboard_summary.html)ÃšProfessionalrc   )rÃ­   rc   rÅ¸   )r.   r+   r)   r`   r,   rÂ    ry   r]   ri   rÂ¡   rU   rÂ¢   ÃšsubplotsrÂ¤   ÃšaxisrËœ   rÂ¦   rÂ§   rÂ£   rÂ¨   rÂ©   rÂª   r   rÂ«   )rc   r4   rÂ¬   rÂ­   rÂ¯   rÂ®   rÂ   rÂ°   rU   Ãš
rating_dataÃšlabel_1ÃšfigÃšaxrÂ±   s                 r   Ãšprofes_summary_dashrÃ´   Å¸  s  â‚¬ Ã°#AÃœ)Ã—/Ã‘/Ã—3Ã‘3Â°DÃ“9ÃÃœ%Ã—+Ã‘+Ã—5Ã‘5Ã€dÃ[fÃ5Ã“gÃ—mÃ‘mÃ“oË†Ãœ%Ã—+Ã‘+Ã—2Ã‘2Â´;Ã—3NÃ‘3NÃRVÃ‘3VÃœ4?Ã—4NÃ‘4NÃ—4RÃ‘4RÃT\Ã^iÃSjÃ“4kÃ³mÃŸmrÃ‘mrÃ“mtÃ° 	Ã¤#Ã—)Ã‘)Ã—3Ã‘3Ã€DÃYcÃ3Ã“dÃ—jÃ‘jÃ“lË†
Ãœ$Ã—*Ã‘*Ã—4Ã‘4Ã€TÃZdÃ4Ã“eÃ—kÃ‘kÃ“mË†Ã¢AË†Ã˜!Â -Â°Ã€.ÃQË†Ã "Ã—)Ã‘)Ë†Ã˜ËœqÂ 6â„¢zÃ*Ë†
Ã˜)Â¨KÃ8Ë†Ãœâ€”,â€˜,Â vÃ”.â€°Ë†Ë†RÃ˜
Ââ€°Ë†{Â 7Â°IÃˆ"ÃV\Ã^iÃUjË†Ã”kÃ˜
Ââ€°ÂÃ”Ãœ
Â	â€°	Ã)Â¨&Â¨Â°Ã7Ã”8Ãœ
Â
â€°
Ã*Ã”+Ãœ
Â	â€°	Å’
Ã´ 	Â
â€°
Ëœ6Ã•"Ãœ
Ââ€°ÂËœÃ’&IÃ•JÃœ
Â
â€°
Ã#Ã”$Ãœ
Â
â€°
Ã'Ã”(Ãœ
Â	â€°	Ã,Ã”-Ãœ
Â
â€°
Ã*Ã”+Ãœ
Â	â€°	Å’
Ã´ ÃFÃVgÃptÃ”uÃuÃ¸Ã¤
Ã² AÃ¤ÃFÃVgÃptÃ~Ã´  AÃµ  	AÃ»Ã°AÃºs   â€šII Ã‰	I9Ã‰ I4Ã‰.I9Ã‰4I9r&   c                  Ã³â€   â€” t         j                  j                  Â«       } t        j                  j                  Â«       }t        j                  j
                  t        j                  j                  g dÂ¢Â«      Â«      j                  t        j                  j                  Â«       Â«      j                  Â«       }t        d| ||Â¬Â«      S )N)r!   rO   r"   zAdmin_home.htmlÂ©ÃšservicesÃš	Service_Rru   )rF   r+   rG   r`   r.   ry   r0   rÂ¡   rS   r1   rT   r   rÃ¶   s      r   Ãšadmin_dashboardrÃ¹   ÃŠ  sÅ½   â‚¬ Ã¤Â~â€°~Ã—!Ã‘!Ã“#â‚¬HÃœÃ—!Ã‘!Ã—%Ã‘%Ã“'â‚¬IÃœ!Ã—'Ã‘'Ã—.Ã‘.ÃœÃ—(Ã‘(Ã—,Ã‘,Ã’-PÃ“QÃ³SÃŸS[Ã‘S[Ã”\iÃ—\lÃ‘\lÃ—\qÃ‘\qÃ“\sÃ“StÃ—uxÃ‘uxÃ“uzÃ° Ã¤
Ã,Â°hÃˆÃanÃ”
oÃor   z
/add_servicesc                  Ã³â€   â€” t         j                  dk(  rÂ®t         j                  d   } t         j                  d   }t         j                  d   }t         j                  d   }t        | |||Â¬Â«      }t        j
                  j
                  |Â«       t        j
                  j                  Â«        t        dÂ«       t        dÂ«      S y )	Nr   rV   Ãš
base_pricerÂº   rÂ»   )rV   rÃ   rÂº   rÂ»   zService added successfullyr&   )
r   r'   r(   rF   r;   r<   r=   r>   r   r   )rV   rÃ»   rÂº   rÂ»   Ãš
new_services        r   Ãšadd_servicesrÃ½   Ã“  sËœ   â‚¬ Ã¤â€¡~Â~ËœÃ’Ãœâ€”|â€˜|Â NÃ‘3Ë†Ãœâ€”\â€˜\Â ,Ã‘/Ë†
Ãœâ€”<â€˜<Â 
Ã‘+Ë†Ãœâ€”|â€˜|Â NÃ‘3Ë†ÃœÃ˜'Ã˜#Ã˜Ã˜'Ã´	
Ë†
Ã´ 	
Â
â€°
Ââ€°Â{Ã”#Ãœ
Â
â€°
Ã—Ã‘Ã”Ã¤
Ã*Ã”+Ã¤Ã*Ã“+Ã+Ã°!  r   z/edit_service/<int:id>c                 Ã³Â  â€” t         j                  dk(  rÂ³t        j                  j	                  | Â«      }t         j
                  d   |_        t         j
                  d   |_        t         j
                  d   |_        t         j
                  d   |_	        t        j                  j                  Â«        t        dÂ«       t        dÂ«      S y )Nr   rV   rÃ»   rÂº   rÂ»   zService updated successfullyr&   )r   r'   rF   r+   r)   r(   rV   rÃ   rÂº   rÂ»   r;   r<   r>   r   r   Â©r1   Ãš
my_services     r   Ãšedit_servicer  Ã¨  sÂ   â‚¬ Ã¤â€¡~Â~ËœÃ’Ãœâ€”^â€˜^Ã—'Ã‘'Â¨Ã“+Ë†
Ãœ")Â§,Â¡,Â¨~Ã‘">Ë†
Ã”Ãœ 'Â§Â¡Â¨\Ã‘ :Ë†
Ã”Ãœ%Å¸lâ„¢lÂ¨:Ã‘6Ë†
Ã”Ãœ")Â§,Â¡,Â¨~Ã‘">Ë†
Ã”Ãœ
Â
â€°
Ã—Ã‘Ã”Ãœ
Ã,Ã”-Ã¤Ã*Ã“+Ã+Ã°  r   z/delete_service/<int:id>c                 Ã³Ã¦   â€” t         j                  j                  | Â«      }t        j                  j
                  |Â«       t        j                  j
                  Â«        t        dÂ«       t        dÂ«      S )NzService deleted successfullyr&   )	rF   r+   r)   r;   r<   Ãšdeleter>   r   r   rÃ¿   s     r   Ãšdelete_servicer  Ã¶  sM   â‚¬ Ã¤â€”â€˜Ã—#Ã‘#Â BÃ“'â‚¬JÃœâ€¡JÂJÃ—Ã‘ÂjÃ”!Ãœâ€¡JÂJÃ—Ã‘Ã”Ãœ	Ã
(Ã”)Ã¤
Ã&Ã“
'Ã'r   z'/professional_pdf/<int:professional_id>c                 Ã³ÃŠ   â€” t         j                  j                  | Â«      }|r8|j                  r,t	        t
        j                  |j                  Â«      dddÂ¬Â«      S t        dÂ«      S )NFzprofessional_document.pdfzapplication/pdf)Ãš
as_attachmentÃš
download_nameÃšmimetyper&   )r.   r+   r)   rÂ¸   r	   ÃšioÃšBytesIOr   )r]   rÃ‰   s     r   Ãšprofessional_pdfr
     sY   â‚¬ Ã¤ Ã—&Ã‘&Ã—*Ã‘*Â¨?Ã“;â‚¬LÃ¡ËœÃ—,Ã’,ÃœÃœÂJâ€°JÂ|Ã—+Ã‘+Ã“,Ã˜Ã˜5Ã˜&Ã´	
Ã° 	
Ã´ Ã*Ã“+Ã+r   z/delete_professional/<int:id>c                 Ã³Ã   â€” t         j                  j                  | Â«      }t        j                  j
                  |Â«       t        j                  j
                  Â«        t        dÂ«      S )Nr&   )r.   r+   r)   r;   r<   r  r>   r   Â©r1   r4   s     r   Ãšdelete_professionalr    sH   â‚¬ Ã¤%Ã—+Ã‘+Ã—/Ã‘/Â°Ã“3ÃÃœâ€¡JÂJÃ—Ã‘Ã'Ã”(Ãœâ€¡JÂJÃ—Ã‘Ã”Ã¤
Ã&Ã“
'Ã'r   z/approve_professional/<int:id>c                 Ã³Â    â€” t         j                  j                  | Â«      }d|_        t        j
                  j
                  Â«        t        dÂ«      S )NrO   r&   Â©r.   r+   r)   r0   r;   r<   r>   r   r
  s     r   Ãšapprove_professionalr    Ã³>   â‚¬ Ã¤%Ã—+Ã‘+Ã—/Ã‘/Â°Ã“3ÃÃ˜+5ÃÃ”(Ãœâ€¡JÂJÃ—Ã‘Ã”Ã¤
Ã&Ã“
'Ã'r   z/reject_professional/<int:id>c                 Ã³Â    â€” t         j                  j                  | Â«      }d|_        t        j
                  j
                  Â«        t        dÂ«      S )Nr"   r&   r  r
  s     r   Ãšreject_professionalr  !  r  r   z/Admin_summaryc                  Ã³  â€” 	 t         j                  j                  dÂ¬Â«      j                  Â«       } t         j                  j	                  t         j
                  j
                  ddgÂ«      Â«      j                  Â«       }t         j                  j                  dÂ¬Â«      j                  Â«       }t         j                  j                  dÂ¬Â«      j                  Â«       }t        j                  j                  Â«       }t        j                  j                  Â«       }t        j                  j                  Â«       }g }g }|D ]A  }	|j                  |	j                  Â«       |j                  t        |	j                  Â«      Â«       Å’C g dÂ¢}
| |||g}
dd	g}||g}
t        j                   d
Â¬
Â«       t        j"                  |
|
dd
g dÂ¢Â¬Â«       t        j$                  dÂ«       t        j&                  |
ddÂ¬Â«       t        j(                  dÂ«       t        j*                  Â«        t        j                   d
Â¬
Â«       t        j,                  |
|
g dÂ¢Â¬Â«       t        j.                  dÂ«       t        j0                  dÂ«       t        j$                  dÂ«       t        j(                  dÂ«       t        j*                  Â«        t        j                   d
Â¬
Â«       t        j,                  ||
ddgÂ¬Â«       t        j.                  dÂ«       t        j0                  dÂ«       t        j$                  dÂ«       t        j(                  dÂ«       t        j*                  Â«        t        j                   d
Â¬
Â«       t        j,                  ||Â«       t        j.                  dÂ«       t        j0                  d Â«       t        j$                  d!Â«       t        j(                  d"Â«       t        j*                  Â«        t3        d#Â«      S # t4        $ r}t3        d#|Â¬$Â«      cY d }~S d }~ww xY w)%Nr~   Â©ri   r   rh   râ‚¬   r"   rÂ   Ãš	Customersr.   rÆ’   râ€    rË†   râ€°   rÅ    rÂ   zService Request Statusrâ€   râ€¢   râ€“   râ„¢   rÅ¡   rÅ“   rÂ   rÅ¾   Ãš	lightblueÃšgreenÃšUserszNumber of active userszApplication user trafficzstatic/bar_chart_traffic.pngrF   zNumber of requestszService demandzstatic/bar_chart_demand.pngzAdmin_summary_dashboard.html)rÅ¸   )r`   r+   r,   rÂ    ry   ri   rÂ¡   r*   r.   rF   rG   ÃšappendrV   ÃšlenrH   rÂ¢   rÂ£   rÂ¤   rËœ   rÂ¥   rÂ¦   rÂ§   rÂ¨   rÂ©   rÂª   r   rÂ«   )rÂ¬   rÂ­   Ãš
Ongoing_countrÂ®   Ãšcustomers_countÃšprofessionals_countrÃ·   Ãšlabels_3Ãšcounts_3rÂ¼   Ãšlabels_1Ãšcounts_1Ãšlabels_2Ãšcounts_2rÂ±   s                  r   Ãš
admin_summaryr&  *  sÃš  â‚¬ Ã°7JÃœ%Ã—+Ã‘+Ã—5Ã‘5Ã€[Ã5Ã“QÃ—WÃ‘WÃ“YË†Ãœ%Ã—+Ã‘+Ã—2Ã‘2Â´;Ã—3MÃ‘3MÃ—3QÃ‘3QÃS[Ã]hÃRiÃ“3jÃ“kÃ—qÃ‘qÃ“sË†Ãœ#Ã—)Ã‘)Ã—3Ã‘3Ã€:Ã3Ã“NÃ—TÃ‘TÃ“VË†
Ãœ$Ã—*Ã‘*Ã—4Ã‘4Ã€JÃ4Ã“OÃ—UÃ‘UÃ“WË†Ãœ"Å¸.â„¢.Ã—.Ã‘.Ã“0Ë†Ãœ+Ã—1Ã‘1Ã—7Ã‘7Ã“9ÃÃœâ€”>â€˜>Ã—%Ã‘%Ã“'Ë†Ã˜Ë†Ã˜Ë†Ã£Ë†GÃ˜ÂOâ€°OËœGÃ—0Ã‘0Ã”1Ã˜ÂOâ€°OÅ“CÂ Ã— 8Ã‘ 8Ã“9Ã•:Ã°  Ã²
 DË†Ã˜#Â MÂ°?Ã€NÃSË†Ã Â Ã1Ë†Ã˜#Ã%8Ã9Ë†Ã¤
Â
â€°
Ëœ6Ã•"Ãœ
Ââ€°ÂÂ Â°9ÃˆÃ²  VBÃµ  	CÃœ
Â	â€°	Ã*Ã”+Ãœ
Â
â€°
Â8Â Â°hÃ•?Ãœ
Â
â€°
Ã*Ã”+Ãœ
Â	â€°	Å’
Ã¤
Â
â€°
Ëœ6Ã•"Ãœ
Ââ€°ÂËœ(Ã’*VÃ•WÃœ
Â
â€°
Ã#Ã”$Ãœ
Â
â€°
Ã'Ã”(Ãœ
Â	â€°	Ã*Ã”+Ãœ
Â
â€°
Ã*Ã”+Ãœ
Â	â€°	Å’
Ã¤
Â
â€°
Ëœ6Ã•"Ãœ
Ââ€°ÂËœ(Â¨;Â¸Ã*@Ã•AÃœ
Â
â€°
Â7Ã”Ãœ
Â
â€°
Ã+Ã”,Ãœ
Â	â€°	Ã,Ã”-Ãœ
Â
â€°
Ã2Ã”3Ãœ
Â	â€°	Å’
Ã¤
Â
â€°
Ëœ6Ã•"Ãœ
Ââ€°ÂËœ(Ã”#Ãœ
Â
â€°
Â:Ã”Ãœ
Â
â€°
Ã'Ã”(Ãœ
Â	â€°	Ã"Ã”#Ãœ
Â
â€°
Ã1Ã”2Ãœ
Â	â€°	Å’
ÃœÃ=Ã“>Ã>Ã¸Ã¤
Ã² JÃœÃ=Ã€qÃ”IÃ•IÃ»Ã°JÃºs   â€šO"O% Ã%	PÃ.P Ã:PÃ PÃº
/Admin_managec                  Ã³  â€” t         j                  j                  dÂ¬Â«      j                  Â«       } t        j                  j
                  t
        t        j                  Â«      Â«      j                  Â«       }t        d|| Â¬Â«      S )Nr   r  zAdmin_manage_dash.html)ru   ÃšRequests)	r`   r+   r,   rG   r.   rS   ÃšascrU   r   )Ãšall_requestsÃšall_professionals     r   Ãšadmin_manager-  f  sa   â‚¬ Ã¤Ã—$Ã‘$Ã—.Ã‘.Â¸hÃ.Ã“GÃ—KÃ‘KÃ“Mâ‚¬LÃœ$Ã—*Ã‘*Ã—3Ã‘3Â´CÂ¼
Ã—8LÃ‘8LÃ“4MÃ“NÃ—RÃ‘RÃ“TÃÃœ
Ã3ÃEUÃbnÃ”
oÃor   z/Block_customer/<int:c_id>c                 Ã³Â    â€” t         j                  j                  | Â«      }d|_        t        j
                  j
                  Â«        t        dÂ«      S Â©Nr    r'  Â©r*   r+   r)   r0   r;   r<   r>   r   Â©rI   r3   s     r   ÃšBlock_customerr2  m  s9   â‚¬ Ã¤â€”Nâ€˜NÃ—&Ã‘&Â tÃ“,â‚¬MÃ˜'0â‚¬MÃ”$Ãœâ€¡JÂJÃ—Ã‘Ã”Ãœ
ÂOÃ“
$Ã$r   z/Unblock_customer/<int:c_id>c                 Ã³Â    â€” t         j                  j                  | Â«      }d|_        t        j
                  j
                  Â«        t        dÂ«      S )Nr   r'  r0  r1  s     r   ÃšUnlock_customerr4  u  s9   â‚¬ Ã¤â€”Nâ€˜NÃ—&Ã‘&Â tÃ“,â‚¬MÃ˜'/â‚¬MÃ”$Ãœâ€¡JÂJÃ—Ã‘Ã”Ãœ
ÂOÃ“
$Ã$r   z/Block_professional/<int:p_id>c                 Ã³Â    â€” t         j                  j                  | Â«      }d|_        t        j
                  j
                  Â«        t        dÂ«      S r/  r  rÃ¥   s     r   ÃšBlock_professionalr6  }  s=   â‚¬ Ã¤%Ã—+Ã‘+Ã—/Ã‘/Â°Ã“5ÃÃ˜+4ÃÃ”(Ãœâ€¡JÂJÃ—Ã‘Ã”Ãœ
ÂOÃ“
$Ã$r   z /Unblock_professional/<int:p_id>c                 Ã³Â    â€” t         j                  j                  | Â«      }d|_        t        j
                  j
                  Â«        t        dÂ«      S )NrO   r'  r  rÃ¥   s     r   ÃšUnlock_professionalr8  â€¦  s=   â‚¬ Ã¤%Ã—+Ã‘+Ã—/Ã‘/Â°Ã“5ÃÃ˜+5ÃÃ”(Ãœâ€¡JÂJÃ—Ã‘Ã”Ãœ
ÂOÃ“
$Ã$r   z/Admin_search_servicesc                  Ã³n  â€” t         j                  dk(  Ârâ€”t         j                  d   } | dk(  rÂ¶t         j                  d   j                  Â«       }t        j
                  j
                  t        j                  j                  |â€º dÂÂ«      Â«      j                  ?       }|?rt        j
                  j                  |j                  ??      j                  ?       }t        d|??      S | d	k(  rqt         j                  d   }t        j
                  j                  t         ?      j
                  t         j"                  |k(  ?      j                  ?       }t        d|??      S | d
k(  rNt         j                  d
   }t        j
                  j                  |?
?      j                  ?       }t        d|??      S t        d?      S )Nr   rq   rr   rs   rt   )rQ   zAdmin_search_dash.html)rÃ¸   r9   Ãšstatusr  )r   r'   r(   rx   rF   r+   ry   rV   rz   r-   r`   r,   r1   rG   r   rÃ¡   r*   r9   )r{   rs   rY   Ãšall_req_servicesr9   r:  s         r   Ãšadmin_search_servicesr<  ?  s`  ? Ã¤?~?~?Ã“Ãœ?L?L?Ã‘-?	Ã˜
?Ã’
&Ãœ%Å¸l?l?=Ã‘9?DÃ‘DÃ“F?
Ãœ'Å¸~?~?4Ã‘4?X?5JÃ‘5J?5OÃ‘5OÃS^ÃR_Ã_`ÃPaÃ“5bÃ“c?iÃ‘iÃ“k?ÃšÃœ'2?'8Ã‘'8?'BÃ‘'BÃP\?P_Ã‘P_Ã'BÃ“'`?'dÃ‘'dÃ“'fÃ$Ãœ*Ã+CÃQaÃ”bÃbÃ˜
?)Ã’
#Ãœ?l?l?=Ã‘1?GÃœ*?0Ã‘0?5Ã‘5?hÃ“??FÃ‘FÃ„x?GWÃ‘GWÃ[bÃ‘GbÃ“d?hÃ‘hÃ“jÃÃœ"Ã#;ÃIYÃ”ZÃZÃ˜
?(Ã’
"Ãœ Å¸??hÃ‘/?Ãœ#.?#4Ã‘#4?#>Ã‘#>ÃPVÃ#>Ã“#W?#[Ã‘#[Ã“#]Ã Ãœ&Ã'?ÃM]Ã”^Ã^Ãœ
Ã3Ã“
4Ã4r   )5Ãšflaskr   r   r   r   r   r   r	   r
   ÃšappÃšmodelsr	  r
   Ãšmatplotlib.pyplotÃšpyplotr?   Ãš
matplotlibÃšuseÃšrouter   r5   rA   rJ   rM   rZ   re   ro   r|   r?   rÃ…   rÃŒ   rÃ   rÃ’   rÃ   rÃŸ   rÃ£   rÃ¦   rÃ´   rÃ¹   rÃ½   r  r  r
  r  r  r  r&  r-  r2  r4  r6  r8  r<  r   r   r   Ãš<module>rE     sG  Ã°ÃŸ a? aÃ“ aÃ $Ãœ Ã› 	Ã Ã Ã› Ã˜ ?
???uÃ” Ã° 
????3Æ’Ã±)Ã³ Ã°)Ã° 
????8?u?f?oÃ”.Ã±')Ã³ /Ã°')Ã°Z 
???Ã
?5??.Ã”9Ã±5Ã³ :Ã°5Ã°> 
???Ã
+?e?F?^Ã”DÃ±~Ã³ EÃ°~Ã° 
???Ã
'?%??Ã”@Ã±7Ã³ AÃ°7Ã°* 
???Ã
/?%Ã€?Ã”HÃ±nÃ³ IÃ°nÃ° 
???Ã
>ÃˆÃPUÃˆÃ”WÃ±
>Ã³ XÃ°
>Ã° 
???Ã
:Ã€VÃˆEÃ€NÃ”SÃ±7Ã³ TÃ°7Ã° 
???Ã
1?EÃ€6??Ã”KÃ±KÃ³ LÃ°KÃ°4 
???Ã
*?U?F?OÃ”DÃ±"YÃ³ EÃ°"YÃ°R 
???Ã
#?u?V?nÃ”=Ã±-JÃ³ >Ã°-JÃ°` 
???Ã
/?%Ã€?Ã”HÃ±OÃ³ IÃ°OÃ° 
???Ã
?Ã“@Ã±7Ã³ AÃ°7Ã° 
???Ã
9Ã“;Ã±7Ã³ <Ã°7Ã° 
???Ã
.??v?Ã”GÃ±SÃ³ HÃ°SÃ°2 
???Ã
:Ã€UÃˆFÃ€OÃ”TÃ±YÃ³ UÃ°YÃ°2 
???Ã
5Ã€Ã€v?Ã”OÃ±JÃ³ PÃ°JÃ°> 
???Ã
&?5?&?/Ã”BÃ±
;Ã³ CÃ°
;Ã°" 
???Ã
,?u?f?oÃ”FÃ±$AÃ³ GÃ°$AÃ°T 
???Ã
??v?Ã”7Ã±pÃ³ 8Ã°pÃ° 
??????V?U?OÃ”4Ã±,Ã³ 5Ã°,Ã°( 
???Ã
#?f?U?^Ã”<Ã±
,Ã³ =Ã°
,Ã° 
???Ã
%??u?~Ã”>Ã±(Ã³ ?Ã°(Ã° 
???Ã
4Ã“5Ã±
,Ã³ 6Ã°
,Ã° 
???Ã
*?V?E?NÃ”CÃ±(Ã³ DÃ°(Ã° 
???Ã
+?f?U?^Ã”DÃ±(Ã³ EÃ°(Ã° 
???Ã
*?V?E?NÃ”CÃ±(Ã³ DÃ°(Ã° 
???Ã
?f?U?^Ã”4Ã±8JÃ³ 5Ã°8JÃ°v 
??????V?E?NÃ”3Ã±pÃ³ 4Ã°pÃ° 
???Ã
'?&?Ã”:Ã±%Ã³ ;Ã°%Ã° 
???Ã
)?F?8Ã”<Ã±%Ã³ =Ã°%Ã° 
???Ã
+?f?XÃ”>Ã±%Ã³ ?Ã°%Ã° 
???Ã
-??xÃ”@Ã±%Ã³ AÃ°%Ã° 
???Ã
#?e?F?^Ã”<Ã±5Ã³ =Ã±5r   